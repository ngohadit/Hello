<!DOCTYPE html>
<html lang="vi">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <title>Slot VÃ ng Äen</title>
Â  <script src="https://cdn.tailwindcss.com"></script>
Â  <script src="https://unpkg.com/howler"></script>
Â  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
Â  <style>
Â  Â  body {
Â  Â  Â  background: linear-gradient(145deg, #000000, #1a1a1a);
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  }
Â  Â  .slot-symbol {
Â  Â  Â  font-size: 2rem;
Â  Â  Â  color: gold;
Â  Â  Â  text-shadow: 0 0 8px yellow, 0 0 16px orange;
Â  Â  }
Â  Â  .scatter {
Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  color: #ffcc00;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  }
Â  Â  .scatter span {
Â  Â  Â  font-size: 0.7rem;
Â  Â  Â  color: white;
Â  Â  }
Â  Â  .glow {
Â  Â  Â  animation: glow 1s infinite alternate;
Â  Â  }
Â  Â  @keyframes glow {
Â  Â  Â  from { text-shadow: 0 0 8px gold; }
Â  Â  Â  to { text-shadow: 0 0 18px orange, 0 0 24px yellow; }
Â  Â  }
Â  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

Â  <div class="w-full max-w-[400px] bg-black border-4 border-yellow-400 rounded-xl p-4 shadow-lg">
Â  Â  <!-- Thanh tráº¡ng thÃ¡i -->
Â  Â  <div class="flex justify-between text-yellow-300 text-sm mb-2">
Â  Â  Â  <div>Sá»‘ dÆ°: <span id="balance">10.00</span> VND</div>
Â  Â  Â  <div>Tháº¯ng: <span id="win">0.00</span></div>
Â  Â  </div>

Â  Â  <!-- VÃ¹ng quay slot -->
Â  Â  <div id="slot" class="grid grid-cols-5 gap-2 bg-yellow-950 rounded-lg p-2 h-[240px]">
Â  Â  Â  <!-- CÃ¡c cá»™t sáº½ Ä‘Æ°á»£c JS gÃ¡n vÃ o -->
Â  Â  </div>

Â  Â  <!-- NÃºt Ä‘iá»u khiá»ƒn -->
Â  Â  <div class="flex justify-between items-center mt-4 text-white text-sm">
Â  Â  Â  <button onclick="changeBet(-0.2)" class="bg-yellow-600 hover:bg-yellow-700 px-2 py-1 rounded">-</button>
Â  Â  Â  <div>Äáº·t: <span id="bet">1.00</span> VND</div>
Â  Â  Â  <button onclick="changeBet(0.2)" class="bg-yellow-600 hover:bg-yellow-700 px-2 py-1 rounded">+</button>
Â  Â  </div>

Â  Â  <button onclick="spin()" class="w-full mt-4 py-2 bg-yellow-500 text-black font-bold rounded hover:bg-yellow-400">QUAY</button>

Â  Â  <div id="alert" class="text-center mt-3 text-red-500 hidden">KhÃ´ng Ä‘á»§ sá»‘ dÆ°!</div>
Â  </div>

Â  <script>
Â  Â  const symbols = ['A', 'J', 'W', 'scatter'];
Â  Â  let balance = parseFloat(localStorage.getItem("slot_balance")) || 10.00;
Â  Â  let bet = 1.00;

Â  Â  const slotContainer = document.getElementById("slot");
Â  Â  const balanceEl = document.getElementById("balance");
Â  Â  const winEl = document.getElementById("win");
Â  Â  const alertEl = document.getElementById("alert");
Â  Â  const spinSound = new Howl({ src: ['https://cdn.pixabay.com/download/audio/2022/03/15/audio_2f00c1ddea.mp3?filename=slot-machine-spin-9932.mp3'] });
Â  Â  const winSound = new Howl({ src: ['https://cdn.pixabay.com/download/audio/2022/10/04/audio_8eebc5d040.mp3?filename=short-success-sound-gaming-113946.mp3'] });

Â  Â  function changeBet(amount) {
Â  Â  Â  bet = Math.max(0.2, bet + amount);
Â  Â  Â  document.getElementById("bet").innerText = bet.toFixed(2);
Â  Â  }

Â  Â  function renderEmptySlot() {
Â  Â  Â  // Hiá»‡u á»©ng quay mÃ¹ táº¡m thá»i
Â  Â  Â  slotContainer.innerHTML = '';
Â  Â  Â  for (let col = 0; col < 5; col++) {
Â  Â  Â  Â  const colDiv = document.createElement("div");
Â  Â  Â  Â  colDiv.className = "flex flex-col items-center gap-2";
Â  Â  Â  Â  for (let row = 0; row < 3; row++) {
Â  Â  Â  Â  Â  const el = document.createElement("div");
Â  Â  Â  Â  Â  el.className = "slot-symbol w-12 h-12 bg-black flex items-center justify-center rounded border-2 border-yellow-400";
Â  Â  Â  Â  Â  el.textContent = "?";
Â  Â  Â  Â  Â  colDiv.appendChild(el);
Â  Â  Â  Â  }
Â  Â  Â  Â  slotContainer.appendChild(colDiv);
Â  Â  Â  }
Â  Â  }

Â  Â  function renderSlot(result) {
Â  Â  Â  slotContainer.innerHTML = '';
Â  Â  Â  for (let col = 0; col < 5; col++) {
Â  Â  Â  Â  const colDiv = document.createElement("div");
Â  Â  Â  Â  colDiv.className = "flex flex-col items-center gap-2";
Â  Â  Â  Â  for (let row = 0; row < 3; row++) {
Â  Â  Â  Â  Â  const sym = result[col][row];
Â  Â  Â  Â  Â  const el = document.createElement("div");
Â  Â  Â  Â  Â  el.className = "slot-symbol w-12 h-12 bg-black flex items-center justify-center rounded border-2 border-yellow-400";
Â  Â  Â  Â  Â  if (sym === 'scatter') {
Â  Â  Â  Â  Â  Â  el.innerHTML = `<div class="scatter glow">ğŸ’°<span>SCATTER</span></div>`;
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  el.textContent = sym;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  colDiv.appendChild(el);
Â  Â  Â  Â  }
Â  Â  Â  Â  slotContainer.appendChild(colDiv);
Â  Â  Â  }
Â  Â  }

Â  Â  function spin() {
Â  Â  Â  if (balance < bet) {
Â  Â  Â  Â  alertEl.classList.remove("hidden");
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  alertEl.classList.add("hidden");

Â  Â  Â  balance -= bet;
Â  Â  Â  spinSound.play();
Â  Â  Â  renderEmptySlot(); // GÃ¡n dáº¥u há»i trÆ°á»›c khi cÃ³ káº¿t quáº£
Â  Â  Â  animateSpin();

Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  const result = [];
Â  Â  Â  Â  for (let col = 0; col < 5; col++) {
Â  Â  Â  Â  Â  const column = [];
Â  Â  Â  Â  Â  for (let row = 0; row < 3; row++) {
Â  Â  Â  Â  Â  Â  column.push(symbols[Math.floor(Math.random() * symbols.length)]);
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  result.push(column);
Â  Â  Â  Â  }

Â  Â  Â  Â  renderSlot(result);
Â  Â  Â  Â  const winAmount = calculateWin(result);
Â  Â  Â  Â  balance += winAmount;
Â  Â  Â  Â  localStorage.setItem("slot_balance", balance.toFixed(2));
Â  Â  Â  Â  balanceEl.textContent = balance.toFixed(2);
Â  Â  Â  Â  winEl.textContent = winAmount.toFixed(2);
Â  Â  Â  Â  if (winAmount > 0) winSound.play();
Â  Â  Â  }, 1000); // Thá»i Ä‘iá»ƒm random xáº£y ra sau hiá»‡u á»©ng
Â  Â  }

Â  Â  function calculateWin(result) {
Â  Â  Â  let totalWin = 0;
Â  Â  Â  for (let row = 0; row < 3; row++) {
Â  Â  Â  Â  const line = [];
Â  Â  Â  Â  for (let col = 0; col < 5; col++) {
Â  Â  Â  Â  Â  line.push(result[col][row]);
Â  Â  Â  Â  }
Â  Â  Â  Â  const first = line[0];
Â  Â  Â  Â  if (line.every(s => s === first)) {
Â  Â  Â  Â  Â  switch (first) {
Â  Â  Â  Â  Â  Â  case 'A': totalWin += bet * 0.2; break;
Â  Â  Â  Â  Â  Â  case 'J': totalWin += bet * 0.8; break;
Â  Â  Â  Â  Â  Â  case 'W': totalWin += bet * 1.2; break;
Â  Â  Â  Â  Â  Â  case 'scatter': totalWin += bet * 2.0; break;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â  return totalWin;
Â  Â  }

Â  Â  function animateSpin() {
Â  Â  Â  const symbols = document.querySelectorAll(".slot-symbol");
Â  Â  Â  gsap.fromTo(symbols, { rotateX: 0 }, {
Â  Â  Â  Â  rotateX: 360,
Â  Â  Â  Â  duration: 1,
Â  Â  Â  Â  ease: "power2.inOut",
Â  Â  Â  Â  stagger: 0.05
Â  Â  Â  });
Â  Â  }

Â  Â  // Khá»Ÿi táº¡o
Â  Â  balanceEl.textContent = balance.toFixed(2);
Â  Â  document.getElementById("bet").innerText = bet.toFixed(2);
Â  Â  renderSlot([['A','J','W'],['J','W','A'],['W','A','J'],['A','A','A'],['scatter','scatter','scatter']]); // test ban Ä‘áº§u
Â  </script>
</body>
</html>
